From e526810af38ed308da0920c0ba84d20ee43fa213 Mon Sep 17 00:00:00 2001
From: Rudi <r.ihle@s-t.de>
Date: Sat, 2 Aug 2014 11:15:08 +0200
Subject: [PATCH 20/20] ASoC: imx-hdmi-dma: Do not send channel id for non-pcm
 data.

---
 sound/soc/fsl/imx-hdmi-dma.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/sound/soc/fsl/imx-hdmi-dma.c b/sound/soc/fsl/imx-hdmi-dma.c
index 28e1a2f..7345a70 100644
--- a/sound/soc/fsl/imx-hdmi-dma.c
+++ b/sound/soc/fsl/imx-hdmi-dma.c
@@ -246,7 +246,7 @@ static u32 hdmi_dma_add_frame_info(struct hdmi_dma_priv *priv,
 
 	/* fill c (channel status) */
 	if (priv->frame_idx < 42) {
-		iec_header.B.channel = subframe_idx;
+		iec_header.B.channel = (iec_header.B.linear_pcm == 0) ? subframe_idx : 0;
 		subframe.B.c = iec_header.U >> priv->frame_idx;
 	}
 	
-- 
1.7.9.5

