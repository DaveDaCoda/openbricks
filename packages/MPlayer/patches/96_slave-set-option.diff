diff -Naur MPlayer-20050915.orig/input/input.c MPlayer-20050915/input/input.c
--- MPlayer-20050915.orig/input/input.c	2005-09-15 23:42:39.000000000 +0200
+++ MPlayer-20050915/input/input.c	2005-09-15 23:48:33.000000000 +0200
@@ -86,6 +86,7 @@
   { MP_CMD_GET_TIME_POS, "get_time_pos", 0, { {-1,{0}} } },
   { MP_CMD_GET_TIME_LENGTH, "get_time_length", 0, { {-1,{0}} } },
   { MP_CMD_SWITCH_AUDIO, "switch_audio", 0, { { MP_CMD_ARG_INT,{-1} }, {-1,{0}} } },
+  { MP_CMD_SET_OPTION, "set_option", 2, { { MP_CMD_ARG_STRING, {0}}, { MP_CMD_ARG_STRING, {0}}, { MP_CMD_ARG_STRING, {0}}, {-1,{0}} } },
 #ifdef USE_TV
   { MP_CMD_TV_STEP_CHANNEL, "tv_step_channel", 1,  { { MP_CMD_ARG_INT ,{0}}, {-1,{0}} }},
   { MP_CMD_TV_STEP_NORM, "tv_step_norm",0, { {-1,{0}} }  },
diff -Naur MPlayer-20050915.orig/input/input.h MPlayer-20050915/input/input.h
--- MPlayer-20050915.orig/input/input.h	2005-09-15 23:42:39.000000000 +0200
+++ MPlayer-20050915/input/input.h	2005-09-15 23:47:17.000000000 +0200
@@ -69,6 +69,8 @@
 #define MP_CMD_SUB_REMOVE 65
 #define MP_CMD_KEYDOWN_EVENTS 66
 
+#define MP_CMD_SET_OPTION 90
+
 #define MP_CMD_GUI_EVENTS       5000
 #define MP_CMD_GUI_LOADFILE     5001
 #define MP_CMD_GUI_LOADSUBTITLE 5002
diff -Naur MPlayer-20050915.orig/mplayer.c MPlayer-20050915/mplayer.c
--- MPlayer-20050915.orig/mplayer.c	2005-09-15 23:42:35.000000000 +0200
+++ MPlayer-20050915/mplayer.c	2005-09-15 23:49:46.000000000 +0200
@@ -2922,6 +2922,20 @@
     case MP_CMD_GRAB_FRAMES : {
       grab_frames=2;
     } break;
+    case MP_CMD_SET_OPTION: {
+      char *option = cmd->args[0].v.s, *value = cmd->args[1].v.s;
+      m_config_set_option(mconfig, option, value);
+      if (cmd->nargs==3 && !strcmp(cmd->args[2].v.s, "save")) {
+        char *buf;
+        size_t len;
+        len = strlen(option) + strlen(value) + sizeof("mp_set_option '' ''");
+        if ((buf = (char*)malloc(len))) {
+          sprintf(buf, "mp_set_option '%s' '%s'", option, value);
+          system(buf);
+          free(buf);
+        }
+      }
+    } break;
     case MP_CMD_PLAY_TREE_STEP : {
       int n = cmd->args[0].v.i == 0 ? 1 : cmd->args[0].v.i;
       int force = cmd->args[1].v.i;
