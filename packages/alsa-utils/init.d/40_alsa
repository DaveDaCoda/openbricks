#!/bin/sh
#
# setup alsa (especially the mixer config)

echo "### Setting up sound card ###"

# include audio configuration file
. /etc/audio

echo "" > /etc/asound.conf

# set common mixer params
amixer sset Master 90% on >/dev/null 2>&1
amixer sset PCM 90% on >/dev/null 2>&1
amixer sset Surround 90% on >/dev/null 2>&1
amixer sset 'Surround Digital' 90% on >/dev/null 2>&1
amixer sset 'Wave Surround' 90% on >/dev/null 2>&1
amixer sset 'Duplicate Front' on >/dev/null 2>&1
amixer sset 'Sigmatel 4-Speaker Stereo' 90% on >/dev/null 2>&1
amixer sset 'Headphone' 90% on >/dev/null 2>&1
amixer sset 'Line' 90% on >/dev/null 2>&1
amixer sset 'Aux' 90% on >/dev/null 2>&1

# set SPDIF mixer params
if test "$SPDIF" = yes; then
  amixer sset 'IEC958' 90% on >/dev/null 2>&1
  amixer sset 'IEC958 Output' 90% on >/dev/null 2>&1
  amixer sset 'IEC958 Playback AC97-SPSA' 100% on >/dev/null 2>&1
  amixer sset 'IEC958 Coaxial' 90% on >/dev/null 2>&1
  amixer sset 'IEC958 LiveDrive' 90% on >/dev/null 2>&1
  amixer sset 'IEC958 Optical Raw' 90% on >/dev/null 2>&1
  amixer sset 'SB Live Analog/Digital Output Jack' 90% on >/dev/null 2>&1
fi

exit 0
