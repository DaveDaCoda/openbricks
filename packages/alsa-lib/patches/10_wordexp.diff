diff -Nur alsa-lib-1.0.9.orig/src/alisp/alisp.c alsa-lib-1.0.9/src/alisp/alisp.c
--- alsa-lib-1.0.9.orig/src/alisp/alisp.c	Fri May 27 20:39:08 2005
+++ alsa-lib-1.0.9/src/alisp/alisp.c	Fri May 27 20:39:27 2005
@@ -30,7 +30,6 @@
 #include <ctype.h>
 #include <math.h>
 #include <err.h>
-#include <wordexp.h>
 
 #define alisp_seq_iterator alisp_object
 
diff -Nur alsa-lib-1.0.9.orig/src/conf.c alsa-lib-1.0.9/src/conf.c
--- alsa-lib-1.0.9.orig/src/conf.c	Fri May 27 20:39:08 2005
+++ alsa-lib-1.0.9/src/conf.c	Fri May 27 20:39:27 2005
@@ -415,7 +415,6 @@
 
 
 #include <stdarg.h>
-#include <wordexp.h>
 #include <dlfcn.h>
 #include <limits.h>
 #include <sys/stat.h>
diff -Nur alsa-lib-1.0.9.orig/src/names.c alsa-lib-1.0.9/src/names.c
--- alsa-lib-1.0.9.orig/src/names.c	Fri May 27 20:39:08 2005
+++ alsa-lib-1.0.9/src/names.c	Fri May 27 20:39:58 2005
@@ -31,7 +31,6 @@
  */
 
 #include <stdarg.h>
-#include <wordexp.h>
 #include <dlfcn.h>
 #include <limits.h>
 #include <sys/stat.h>
diff -Nur alsa-lib-1.0.9.orig/src/pcm/pcm_ladspa.c alsa-lib-1.0.9/src/pcm/pcm_ladspa.c
--- alsa-lib-1.0.9.orig/src/pcm/pcm_ladspa.c	Fri May 27 20:39:08 2005
+++ alsa-lib-1.0.9/src/pcm/pcm_ladspa.c	Fri May 27 20:39:27 2005
@@ -28,7 +28,11 @@
   
 #include <dirent.h>
 #include <dlfcn.h>
+#ifdef HAS_WORDEXP
 #include <wordexp.h>
+#else
+#include <glob.h>
+#endif
 #include <locale.h>
 #include "pcm_local.h"
 #include "pcm_plugin.h"
@@ -794,13 +798,18 @@
 {
 	const char *c;
 	size_t l;
+#ifdef HAS_WORDEXP
 	wordexp_t we;
+#else
+	glob_t globbuf;
+#endif
 	int err;
 	
 	for (c = path; (l = strcspn(c, ": ")) > 0; ) {
 		char name[l + 1];
 		memcpy(name, c, l);
 		name[l] = 0;
+#ifdef HAS_WORDEXP
 		err = wordexp(name, &we, WRDE_NOCMD);
 		switch (err) {
 		case WRDE_NOSPACE:
@@ -814,6 +823,21 @@
 		}
 		err = snd_pcm_ladspa_check_dir(plugin, we.we_wordv[0], label, ladspa_id);
 		wordfree(&we);
+#else
+		err = glob(name, 0, NULL, &globbuf);
+		switch (err) {
+		case GLOB_NOSPACE:
+			return -ENOMEM;
+		case 0:
+			if (globbuf.gl_pathc == 1)
+				break;
+			/* Fall through */
+		default:
+			return -EINVAL;
+		}
+		err = snd_pcm_ladspa_check_dir(plugin, globbuf.gl_pathv[0], label, ladspa_id);
+		globfree(&globbuf);
+#endif
 		if (err < 0)
 			return err;
 		if (err > 0)
diff -Nur alsa-lib-1.0.9.orig/src/userfile.c alsa-lib-1.0.9/src/userfile.c
--- alsa-lib-1.0.9.orig/src/userfile.c	Fri May 27 20:39:08 2005
+++ alsa-lib-1.0.9/src/userfile.c	Fri May 27 20:39:27 2005
@@ -20,7 +20,11 @@
   
 #include <string.h>
 #include <errno.h>
+#ifdef HAS_WORDEXP
 #include <wordexp.h>
+#else
+#include <glob.h>
+#endif
 #include <assert.h>
 
 /**
@@ -34,10 +38,15 @@
  */
 int snd_user_file(const char *file, char **result)
 {
+#ifdef HAS_WORDEXP
 	wordexp_t we;
+#else
+	glob_t globbuf;
+#endif
 	int err;
 	
 	assert(file && result);
+#ifdef HAS_WORDEXP
 	err = wordexp(file, &we, WRDE_NOCMD);
 	switch (err) {
 	case WRDE_NOSPACE:
@@ -51,8 +60,24 @@
 		return -EINVAL;
 	}
 	*result = strdup(we.we_wordv[0]);
+	wordfree(&we);
+#else
+	err = glob(file, 0, NULL, &globbuf);
+	switch (err) {
+	case GLOB_NOSPACE:
+		return -ENOMEM;
+	case 0:
+		if (globbuf.gl_pathc == 1)
+			break;
+		/* Fall through */
+	default:
+		globfree(&globbuf);
+		return -EINVAL;
+	}
+	*result = strdup(globbuf.gl_pathv[0]);
+	globfree(&globbuf);
+#endif
 	if (*result == NULL)
 		return -ENOMEM;
-	wordfree(&we);
 	return 0;
 }
